---

- hosts: all
  become: true
  tasks:

  - name: install base apps
    apt:
      name:
        - curl
        - tmux
        - cmatrix
        - htop
        - neofetch
        - ca-certificates
        - gnupg
        - lsb-release
        - zsh
        - zplug
        - wget
      state: latest

  - name: Install oh-my-zsh
    get_url:
      url: https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh
      dest: ~/Git/ohmyzsh/install.sh
      mode: 0660

  - name: Run oh-my-zsh installer
    ansible.builtin.script: ~/Git/ohmyzsh/install.sh --unattended