---

- hosts: all
  become: true
  become_user: zyzyx
  tasks:

  - name: install base apps
    apt:
      name:
        - curl
        - tmux
        - cmatrix
        - htop
        - neofetch
        - ca-certificates
        - gnupg
        - lsb-release
        - zsh
        - zplug
        - wget
      state: latest

  - name: Make folders for Git projects
    ansible.builtin.file:
      path: 
        - ~/Git
        - ~/Git/ohmyzsh
      state: directory
      mode: '0700'

  - name: Install oh-my-zsh
    get_url:
      url: https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh
      dest: /home/zyzyx/Git/ohmyzsh/install.sh
      mode: 0660

  - name: Run oh-my-zsh installer
    ansible.builtin.script: /home/zyzyx/Git/ohmyzsh/install.sh --unattended